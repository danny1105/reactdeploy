(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(71)},40:function(e,t,a){},42:function(e,t,a){},70:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},71:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"db",function(){return f}),a.d(n,"auth",function(){return E}),a.d(n,"facebookProvider",function(){return g});var r={};a.r(r),a.d(r,"doCreateUserWithEmailAndPassword",function(){return v}),a.d(r,"doSignInWithEmailAndPassword",function(){return w}),a.d(r,"doSignOut",function(){return b}),a.d(r,"doPasswordReset",function(){return y}),a.d(r,"doPasswordChange",function(){return O}),a.d(r,"doFacebookSignIn",function(){return S});var o={};a.r(o),a.d(o,"doCreateUser",function(){return j}),a.d(o,"onceGetUsers",function(){return P}),a.d(o,"doGetAnUnser",function(){return A});a(34);var l=a(1),c=a.n(l),i=a(17),s=a.n(i),u=(a(40),a(74)),m=a(73),d=a(3),h=(a(42),a(19)),p=a.n(h);a(49),a(51);p.a.apps.length||p.a.initializeApp({apiKey:"AIzaSyBEj1oQCSBuyJDHAJEKe6E4__Q9cGzNmi8",authDomain:"redditauth-73060.firebaseapp.com",databaseURL:"https://redditauth-73060.firebaseio.com",projectId:"redditauth-73060",storageBucket:"redditauth-73060.appspot.com",messagingSenderId:"281425140515"});var f=p.a.database(),E=p.a.auth(),g=new p.a.auth.FacebookAuthProvider,v=function(e,t){return E.createUserWithEmailAndPassword(e,t)},w=function(e,t){return E.signInWithEmailAndPassword(e,t)},b=function(){return E.signOut()},y=function(e){return E.sendPasswordResetEmail(e)},O=function(e){return E.currentUser.updatePassword(e)},S=function(){return E.signInWithPopup(g)},j=function(e,t,a){return f.ref("users/".concat(e)).set({username:t,email:a})},P=function(){return f.ref("users").once("value")},A=function(e){return f.ref("users/".concat(e)).once("value")},x="/home",C=a(72),k=function(){return c.a.createElement(d.b,{color:"info",onClick:r.doSignOut},"Sign Out")},N=c.a.createContext(null),U=function(){return c.a.createElement(d.k,{color:"light",light:!0,expand:"md"},c.a.createElement(d.l,null,c.a.createElement(C.a,{to:"/"}," Landing ")),c.a.createElement(d.h,{className:"ml-auto",navbar:!0},c.a.createElement(d.i,null,c.a.createElement(d.j,null,c.a.createElement(C.a,{to:"/signin"},"Sign In")))))},I=function(){return c.a.createElement(N.Consumer,null,function(e){return e?c.a.createElement(T,{userInfo:e}):c.a.createElement(U,null)})},T=function(e){var t=e.userInfo;return c.a.createElement(d.k,{color:"light",light:!0,expand:"md"},c.a.createElement(d.l,null,c.a.createElement(C.a,{to:"/"}," Landing ")),c.a.createElement(d.h,{className:"ml-auto",navbar:!0},c.a.createElement(d.i,null,c.a.createElement(d.j,null,c.a.createElement(C.a,{to:x},"Home"))),"facebook.com"===t.providerData[0].providerId?null:c.a.createElement(d.i,null,c.a.createElement(d.j,null,c.a.createElement(C.a,{to:"/account"},"Account"))),c.a.createElement(d.i,null,c.a.createElement(k,null))))},D=function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Landing Page"),c.a.createElement("p",null,"This page is public, accessible by everyone"),c.a.createElement("p",null,"This page is like a homepage. More animations and styling coming soon..."))},L=a(11),W=a(6),F=a(7),B=a(9),M=a(8),R=a(10),G=a(13),H=a(75),J={username:"",email:"",passwordOne:"",passwordTwo:"",error:null,showingAlert:!1},z=function(e,t){return function(){return Object(G.a)({},e,t)}},K=function(e){function t(){var e,a;Object(W.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(l)))).state=Object(L.a)({},J),a.onSubmit=function(e){var t=a.state,n=t.username,l=t.email,c=t.passwordOne,i=a.props.history;r.doCreateUserWithEmailAndPassword(l,c).then(function(e){o.doCreateUser(e.user.uid,n,l).then(function(){a.setState(Object(L.a)({},J)),i.push(x)}).catch(function(e){a.setState(z("error",e)),a.timer()})}).catch(function(e){a.setState(z("error",e)),a.timer()}),e.preventDefault()},a.timer=function(){a.setState({showingAlert:!0}),setTimeout(function(){a.setState({showingAlert:!1})},4e3)},a}return Object(R.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,r=t.passwordOne,o=t.passwordTwo,l=t.error,i=t.showingAlert,s=r!==o||""===r||""===n||""===a;return c.a.createElement("div",null,i&&c.a.createElement(d.a,{color:"danger",onLoad:this.timer},l.message),c.a.createElement(d.d,{onSubmit:this.onSubmit},c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"userName"},"Full Name"),c.a.createElement(d.f,{type:"username",name:"username",id:"userName",placeholder:"Enter your Full Name",value:a,onChange:function(t){return e.setState(z("username",t.target.value))}})),c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"exampleEmail"},"Email"),c.a.createElement(d.f,{type:"email",name:"email",id:"exampleEmail",placeholder:"Enter your Email",value:n,onChange:function(t){return e.setState(z("email",t.target.value))}})),c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"examplePassword1"},"Password"),c.a.createElement(d.f,{type:"password",name:"password",id:"examplePassword1",placeholder:"Enter Your Password",value:r,onChange:function(t){return e.setState(z("passwordOne",t.target.value))}})),c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"examplePassword2"},"Confirm Password"),c.a.createElement(d.f,{type:"password",name:"password",id:"examplePassword2",placeholder:"Confirm Password",value:o,onChange:function(t){return e.setState(z("passwordTwo",t.target.value))}})),c.a.createElement("div",{className:"text-center"},c.a.createElement(d.b,{disabled:s,type:"submit"},"Sign Up"))))}}]),t}(l.Component),Q=function(){return c.a.createElement("p",null,"Don't have an account? ",c.a.createElement(C.a,{to:"/signup"},"Sign Up"))},_=Object(H.a)(function(e){var t=e.history;return c.a.createElement("div",null,c.a.createElement("div",{className:"div-flex"},c.a.createElement("div",null,c.a.createElement("h1",{className:"centered"},"Sign Up"),c.a.createElement(K,{history:t}))))}),Y=a(32),$=(a(70),function(e,t){return function(){return Object(G.a)({},e,t)}}),q={email:"",error:null,showingAlert:!1},V=function(e){function t(){var e,a;Object(W.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(B.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(o)))).state=Object(L.a)({},q),a.onSubmit=function(e){var t=a.state.email;r.doPasswordReset(t).then(function(){a.setState(Object(L.a)({},q))}).catch(function(e){a.setState($("error",e)),a.timer()}),e.preventDefault()},a.timer=function(){a.setState({showingAlert:!0}),setTimeout(function(){a.setState({showingAlert:!1})},4e3)},a}return Object(R.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.error,r=t.showingAlert,o=""===a;return c.a.createElement("div",null,r&&c.a.createElement(d.a,{color:"danger",onLoad:this.timer},n.message),c.a.createElement(d.d,{onSubmit:this.onSubmit},c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"exampleEmail"},"Email"),c.a.createElement(d.f,{type:"email",name:"email",id:"exampleEmail",placeholder:"Enter you Email",value:a,onChange:function(t){return e.setState($("email",t.target.value))}})),c.a.createElement("div",{className:"text-center"},c.a.createElement(d.b,{disabled:o,type:"submit"},"Reset My Password"))))}}]),t}(l.Component),X=function(){return c.a.createElement("p",null,c.a.createElement(C.a,{to:"/pw-forget"},"Forgot Password?"))},Z=function(){return c.a.createElement("div",{className:"div-flex"},c.a.createElement("div",null,c.a.createElement("h1",{className:"centered"},"Forget Password"),c.a.createElement(V,null)))},ee=function(e,t){return function(){return Object(G.a)({},e,t)}},te={email:"",password:"",error:null,showingAlert:!1},ae=function(e){function t(){var e,a;Object(W.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(l)))).state=Object(L.a)({},te),a.onSubmit=function(e){var t=a.state,n=t.email,o=t.password,l=a.props.history;r.doSignInWithEmailAndPassword(n,o).then(function(){a.setState(Object(L.a)({},te)),l.push(x)}).catch(function(e){a.setState(ee("error",e)),a.timer()}),e.preventDefault()},a.facebookLogin=function(){var e=a.props.history;r.doFacebookSignIn().then(function(t){console.log("authUser",t),o.doCreateUser(t.user.uid,t.user.displayName,t.user.email).then(function(){e.push(x)}).catch(function(e){a.setState(ee("error",e))})}).catch(function(e){a.setState(ee("error",e))})},a.timer=function(){a.setState({showingAlert:!0}),setTimeout(function(){a.setState({showingAlert:!1})},4e3)},a}return Object(R.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,r=t.error,o=t.showingAlert,l=""===n||""===a;return c.a.createElement("div",null,o&&c.a.createElement(d.a,{color:"danger",onLoad:this.timer},r.message),c.a.createElement(d.d,{onSubmit:this.onSubmit},c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"exampleEmail"},"Email"),c.a.createElement(d.f,{type:"email",name:"email",id:"exampleEmail",placeholder:"Enter your Email",value:a,onChange:function(t){return e.setState(ee("email",t.target.value))}})),c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"examplePassword"},"Password"),c.a.createElement(d.f,{type:"password",name:"password",id:"examplePassword",placeholder:"Enter your Password",value:n,onChange:function(t){return e.setState(ee("password",t.target.value))}})),c.a.createElement("div",{className:"text-center"},c.a.createElement(d.b,{disabled:l,type:"submit"},"Sign In"))),c.a.createElement("hr",null),c.a.createElement(Y.FacebookLoginButton,{onClick:this.facebookLogin}))}}]),t}(l.Component),ne=Object(H.a)(function(e){var t=e.history;return c.a.createElement("div",{className:"div-flex"},c.a.createElement("div",null,c.a.createElement("h1",{className:"centered"},"Sign In"),c.a.createElement(ae,{history:t}),c.a.createElement(Q,null),c.a.createElement(X,null)))}),re=function(e){return function(t){var a=function(a){function r(){return Object(W.a)(this,r),Object(B.a)(this,Object(M.a)(r).apply(this,arguments))}return Object(R.a)(r,a),Object(F.a)(r,[{key:"componentDidMount",value:function(){var t=this;n.auth.onAuthStateChanged(function(a){e(a)||t.props.history.push("/signin")})}},{key:"render",value:function(){var e=this;return c.a.createElement(N.Consumer,null,function(a){return a?c.a.createElement(t,Object.assign({},e.props,{loggedUser:a})):null})}}]),r}(c.a.Component);return Object(H.a)(a)}},oe=function(e){function t(){var e,a;Object(W.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(B.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(r)))).state={users:null,username:"",loading:!0},a}return Object(R.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.loggedUser;o.doGetAnUnser(t.uid).then(function(t){e.setState({username:t.val().username,loading:!1})})}},{key:"render",value:function(){var e=this.state,t=(e.users,e.username),a=e.loading;return c.a.createElement("div",null,c.a.createElement("h1",null,"Home"),!a&&c.a.createElement("p",{className:"centered"},"Hello ",t,"!"),c.a.createElement("p",{style:{marginTop:"80px"}},"NOTE: This page is only accessible by signed in users."))}}]),t}(l.Component),le=re(function(e){return!!e})(oe),ce=function(e,t){return function(){return Object(G.a)({},e,t)}},ie={passwordOne:"",passwordTwo:"",error:null,showingAlert:!1},se=function(e){function t(){var e,a;Object(W.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(B.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(o)))).state=Object(L.a)({},ie),a.onSubmit=function(e){var t=a.state.passwordOne;r.doPasswordUpdate(t).then(function(){a.setState(Object(L.a)({},ie))}).catch(function(e){a.setState(ce("error",e)),a.timer()}),e.preventDefault()},a.timer=function(){a.setState({showingAlert:!0}),setTimeout(function(){a.setState({showingAlert:!1})},4e3)},a}return Object(R.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.passwordOne,n=t.passwordTwo,r=t.error,o=t.showingAlert,l=a!==n||""===a;return c.a.createElement("div",{style:{marginTop:"40px"}},o&&c.a.createElement(d.a,{color:"danger",onLoad:this.timer},r.message),c.a.createElement(d.d,{onSubmit:this.onSubmit},c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"examplePassword1"},"New Password"),c.a.createElement(d.f,{type:"password",name:"password",id:"examplePassword1",placeholder:"New Password",value:a,onChange:function(t){return e.setState(ce("passwordOne",t.target.value))}})),c.a.createElement(d.e,null,c.a.createElement(d.g,{for:"examplePassword2"},"Confirm Password"),c.a.createElement(d.f,{type:"password",name:"password",id:"examplePassword2",placeholder:"Confirm Password",value:n,onChange:function(t){return e.setState(ce("passwordTwo",t.target.value))}})),c.a.createElement("div",{className:"text-center"},c.a.createElement(d.b,{disabled:l,type:"submit"},"Change My Password"))))}}]),t}(l.Component),ue=re(function(e){return!!e&&"facebook.com"!==e.providerData[0].providerId})(function(){return c.a.createElement(N.Consumer,null,function(e){return c.a.createElement("div",{className:"div-flex"},c.a.createElement("div",null,c.a.createElement("h5",{className:"centered"},"Change/Reset Password for : ",e.email),"facebook.com"===e.providerData[0].providerId?null:c.a.createElement("div",null,c.a.createElement(V,null),c.a.createElement(se,null))))})}),me=function(e){return function(t){function a(){var e,t;Object(W.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(B.a)(this,(e=Object(M.a)(a)).call.apply(e,[this].concat(r)))).state={authUser:null},t}return Object(R.a)(a,t),Object(F.a)(a,[{key:"componentDidMount",value:function(){var e=this;n.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"render",value:function(){var t=this.state.authUser;return console.log("withAuthentication file authUser",t),c.a.createElement(N.Provider,{value:t},c.a.createElement(e,this.props))}}]),a}(c.a.Component)}(function(){return c.a.createElement(u.a,null,c.a.createElement(d.c,null,c.a.createElement(I,null),c.a.createElement(m.a,{exact:!0,path:"/",component:D}),c.a.createElement(m.a,{exact:!0,path:"/signup",component:_}),c.a.createElement(m.a,{exact:!0,path:"/signin",component:ne}),c.a.createElement(m.a,{exact:!0,path:"/pw-forget",component:Z}),c.a.createElement(m.a,{exact:!0,path:x,component:le}),c.a.createElement(m.a,{exact:!0,path:"/account",component:ue})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.875c1b14.chunk.js.map